---
layout: post
title:  "Cyanogenmod12 или глоток свежего воздуха для nexus7 3g (2012)"
date:   2016-01-06 16:40:00
categories: posts
description: "#cyanogenmod12 или глоток свежего воздуха для #nexus7 3g (2012)"
tags:
- Cyanogenmod12
- Nexus7 3g
- Android
---

Наконец-то я смог выкроить время и обновить прошивку на своём уже не молодом nexus7. Выбор пал на cyanogenmod12 (почему - расскажу ниже). Мануалок по установке данной прошивки тьма, 
но, как это принято - сходу ничего не взлетело...

<!--more-->

## Почему cyanogenmod?

Лично у меня возникли следующие предпосылки для обновления:

- Когда в далёком 2012 году я взял это планшет на нём стоял андроид 4.x. Планшет просто летал - никаких проблем с производительностью не было. Пока выходили обновления для 4 версии андроида
всё было хорошо. Но вот вышла 5 версия андроида и обновление долетело и до моего девайса... После обновления начались жуткие тормоза - работать стало просто невозможно. 
Сброс до заводских настроек не помогал.

- В добавок ко всему после обновления стала проявляться следующая проблема - ни с того ни с сего планшет писал, что сеть недоступна, хотя он просто лежал на столе. Ничего кроме ребута не помогало 
исправить ситуацию. 

- И еще одна проблема, характерная для всей линейки android - политика безопасности. В стандартной прошивке нельзя ограничить доступ приложений к конфиденциальным данным. На самом деле есть два 
варианта - ставить приложение, которое будет иметь доступ ко всем перечисленным функциям, либо вообще не ставить данное приложение.

## Как всё должно было пройти

Самое главное в процессе обновления - <font color="red">вы сами отвечаете за свои действия, и если что-то пойдёт не так и ваш девайс превратится в кирпич, то это ваша и только ваша вина</font>.

Как я уже писал выше - в интернете масса инструкций по установке cyanogenmod. Я взял за основу вот это видео

<iframe width="100%" height="400px" src="https://www.youtube.com/embed/hPcRxseRuBU" frameborder="0" allowfullscreen></iframe>

и [вот эту тему на 4pda](http://4pda.ru/forum/index.php?showtopic=355930&st=0#entry14937709). Имейте ввиду, что видео и тема на 4pda для wifi версии планшета, а сборку cyanogenmod нужно качать
под свой девайс.

В конечном счёте всё должно было свестись к 7 шагам:

- создание бэкапа
- установка драйверов
- установка adb и fastboot
- разблокировка загрузчика (<font color="red">имейте ввиду, что при разблокировании сотрутся все данные</font>)
- установка кастомного рекавери
- установка cyanogenmod (качается с [cyanogenmod.org](http://www.cyanogenmod.org/))
- установка gapps

## Как всё вышло на самом деле...

Так как планшет был в не самой лучшей спортивной форме и я им почти не пользовался, то важных данных на нём не было, поэтому бэкап был минимальным - скопировал пару папок из файловой системы.

Следующие два пункта тоже не вызвали затруднение — так как я пробовал писать программы под андроид, то у меня уже были установлены драйвера и adb с fastboot'ом (идут из sdk).

Разблокировка загрузчика - тоже не проблема. Подключил планшет выполнил команду (см. топик на 4pda).

А вот с кастомным рекавери началось веселье... Действовал по той же инструкции с 4pda - включал планшет в fastboot, выполнял команду - всё ок. Захожу в кастом реквери, перезагружаю планшет... 
И после перезагрузки при заходе в кастом рекавери наблюдаю следующую картину - лежащий на спине андроид с восклицательным знаком в красном треугольнике.

<div class="row"><img style="width: 49%" src="/public/images/2016-01-06-cyanogenmod-and-nexus7/AndroidRedTriangle.jpeg"></div>  

При этом после перезагрузки планшет продолжал корректно функционировать.

Пробовал ставить разные рекавери (CWM, TWRP и с сайта cyanogenmod)... Картина одна и та же - после перезагрузки в рекавери не заходит. После непродолжительных поисков нашёл такое решение - 
при виде лежащего андроида зажать кнопку power и нажать volume up. Открывается менюшка рекавери, но там нет пункта install from zip.

В итоге проблему решил следующим образом - установил кастомный рекавери (CWM touch), и не перезагружаясь выполнил wipe data / factory reset и wipe cache partition, после чего установил 
cyanogenmod и gapps.

## Заключение

Планшет прошил три дня назад. До сих пор полёт нормальный, скорость работы радует. Связь пока ни разу не терялась. Радует возможность ограничивать доступ приложений к данным.

Так же хотелось бы отметить, что у меня, как новичка в прошивке андроид девайсов возникли следующие вопросы

- Откуда брать adb и fastboot? Они устанавливаются вместе с android sdk - platform tools.
- Что за gapps и откуда их брать? Gapps - набор google сервисов (google play, gmail и т.д.). Ссылки на скачивание можно найти в [cyanogenmod wiki](http://wiki.cyanogenmod.org/w/Google_Apps)